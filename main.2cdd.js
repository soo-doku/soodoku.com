(()=>{"use strict";var e,t={7531:(e,t,l)=>{var a=l(5776),n=l(9823),r=(l(6265),l(2320),l(2826),l(3964),l(7389),l(8324),l(9883)),s=(l(560),l(3843),l(5137),l(2467));const o={BUTTONS:{classic:[1,2,3,4,5,6,7,8,9],emoji:["🤣","😍","🤔","😝","😴","🤧","🥳","😭","😉"],colors:["🔵","🟢","🔴","🟡","🟠","🟣","🟤","⚫","⚪"],animals:["🦩","🦒","🦋","🐇","🐋","🐄","🐠","🐕","🕷️"],sport:["⚽","🏀","🏐","🎾","🎱","⚾","🏈","🏓","🎳"],food:["🌭","🍕","🍟","🍔","🍿","🍩","🍰","🥞","🍦"],places:["🏖️","🗼","⛺","🗽","🕍","🗻","🕌","🏰","🎡"],flowers:["🌸","🌺","🌼","🌷","🌵","🪻","🌻","🌹","🪴"],objects:["⏰","🧳","🧸","🔦","🖥️","🕯️","🪑","🧯","📷"],transport:["⛵","🛩️","🛵","🏎️","🚲","🛴","🚁","🚤","🚂"]},ZIP:{HASH:"!#$&()*+,-./0123456789:;=?@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~",HASHSPLIT:"'"},HINTS:{initNotes:!1,keepFocusOnNotes:!0,error:!0,focus:!0,sameNum:!0,hasValue:!0,sameNumInNotes:!0,sameRow:!0,sameCol:!0,sameBox:!0,sameBeyond:!0,singles:!1,pairs:!1,hiddSingles:!1,hiddPairs:!1,hiddTriples:!1}},i=e=>[...new Set(e)],u=[0,1,2,3,4,5,6,7,8],c=[0,9,18,27,36,45,54,63,72],d=[0,1,2,9,10,11,18,19,20],m=[0,3,6,27,30,33,54,57,60],f=(0,s.Z)(((e,t=!0,l=!1)=>{const a=l?c[e]:e,n=9*Math.floor(a/9),r=u.map((e=>e+n));return t?r.filter((e=>e!==a)):r})),p=(0,s.Z)(((e,t=!0,l=!1)=>{const a=l?u[e]:e,n=a%9,r=c.map((e=>e+n));return t?r.filter((e=>e!==a)):r})),h=(0,s.Z)(((e,t=!0,l=!1)=>{const a=l?m[e]:e,n=Math.floor(a/9),r=a%9,s=9*Math.floor(n/3)+Math.floor(r/3),o=d.map((e=>e+3*s));return t?o.filter((e=>e!==a)):o})),v=Array(81).fill(""),g=(e,t,l)=>e[Number(t)]=e[Number(t)]+l,y=(e,t,l,a)=>{const n={},r=a.hiddTriples?3:a.hiddPairs?2:a.hiddSingles?1:0,s=e.reduce(((e,l)=>{const a=t[l];return"number"==typeof a||a.split("").forEach((t=>(e[Number(t)]?e[Number(t)]:e[Number(t)]=[]).push(l))),e}),[]).reduce(((e,t,l)=>(!(t.length<=r)||(e[l]=t))&&e),[]);a.hiddSingles&&s.forEach(((e,t)=>1===e.length&&g(l,e[0],` hs${t}`)&&(n[t]=!0))),a.hiddPairs&&s.forEach(((e,t)=>{2!==e.length||n[t]||s.forEach(((a,r)=>{t===r||n[r]||2!==a.length||a[0]!==e[0]||a[1]!==e[1]||(e.forEach((e=>g(l,e,` hp${t} hp${r}`))),n[t]=n[r]=!0)}))})),a.hiddTriples&&s.forEach(((e,t)=>{e.length>=2&&!n[t]&&s.forEach(((a,r)=>{t!==r&&a.length>=2&&!n[r]&&s.forEach(((s,o)=>{if(t!==o&&r!==o&&s.length>=2&&!n[r]){const i=new Set([...e,...a,...s]);3===i.size&&(i.forEach((e=>g(l,e,` ht${t} ht${r} ht${o}`))),n[t]=n[r]=n[o]=!0)}}))}))}))},E=(e,t,l)=>l.hiddSingles||l.hiddPairs||l.hiddTriples?(u.forEach((a=>{y(f(a,!1,!0),t,e,l),y(p(a,!1,!0),t,e,l),y(h(a,!1,!0),t,e,l)})),e):e,b=(0,s.Z)(((e,t,l,a,n)=>{const r=JSON.parse(e),s=JSON.parse(l),o=JSON.parse(n);if(!r.some((e=>0!==e)))return v;if(t<0&&!0!==o.singles)return E(v,r,o);const u=r.map(((e,l,n)=>((e,t,l,a,n,r,s)=>{let o="";if("string"==typeof e&&(1===e.length&&s.singles&&(o+=" ns"),2===e.length&&s.pairs&&i(f(t).concat(p(t),h(t))).some((t=>a[t]===e))&&(o+=" np")),l<0)return o;n.indexOf(t)>-1&&s.error&&(o+=" error"),t===l&&s.focus&&(o+=" focus"),r<10&&0!==r&&(e===r?s.sameNum&&(o+=" v"):"number"==typeof e&&e>0?s.hasValue&&(o+=" h"):"string"==typeof e&&s.sameNumInNotes&&e.split("").map((e=>parseInt(e,10))).indexOf(r)>=0&&(o+=` n nn${r}`));const u=new Set;return s.sameRow&&f(t).forEach(u.add.bind(u)),s.sameCol&&p(t).forEach(u.add.bind(u)),s.sameBox&&h(t).forEach(u.add.bind(u)),Array.from(u).some((e=>s.sameBeyond&&0!==r?a[e]===r:e===l))&&(o+=" o"),o})(e,l,t,n,s,a,o)));return E(u,r,o),u})),w=(e,t,l,a,n)=>b(JSON.stringify(e),t,JSON.stringify(l),a,JSON.stringify(n)),k=(e,t,l)=>{const a=e[t],n=i(f(t).concat(p(t),h(t)));let r=[];if("number"==typeof a)0!==a&&(r=n.filter((t=>e[t]===a)));else{const t=a.split(""),s=l.split("");if(t.length>s.length){const l=Number(t.filter((e=>!s.includes(e)))[0]);r=n.filter((t=>e[t]===l))}}const s=[...e];return n.forEach((e=>{const t=s[e];if("string"==typeof t){const l=t.split(""),n=l.filter((e=>parseInt(e,10)!==a));n.length!==l.length&&(0===n.length?s[e]=0:s[e]=n.sort().join(""))}})),{overlapIndexes:r,cleanState:s}},C=(e,t=!0)=>{const l=o.BUTTONS.classic;return e.map(((a,n)=>{if(0===a||t&&"number"!=typeof a){const t=i(f(n).concat(p(n),h(n)));return l.reduce(((l,a)=>l+(t.some((t=>e[t]===a))?"":a)),"")}return a}))};var S,z,O,N,j,P,M,I,x,T,A,U=l(3458);const H=e=>{try{const t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(e){return}},L=(e,t)=>{try{const l=JSON.stringify(t);localStorage.setItem(e,l)}catch(e){}},$=null!==(S=H("type"))&&void 0!==S?S:"classic",F=null!==(z=H("theme"))&&void 0!==z?z:"system",Z=null!==(O=H("gameHints"))&&void 0!==O?O:o.HINTS,B=null!==(N=H("UIshowImgs"))&&void 0!==N?N:!window.matchMedia("(pointer: coarse)").matches,D=null!==(j=H("UIpuzzAnim"))&&void 0!==j?j:!window.matchMedia("(pointer: coarse)").matches,R=null===(P=H("UIrestAnim"))||void 0===P||P,V=null!==(M=H("ziped"))&&void 0!==M?M:{},G=null!==(I=H("saved"))&&void 0!==I?I:{"!Ny'#;a~'$Yi'5G'-@Cft'Qdru'*16U'+Kns',9jz":{lastPlayed:0,level:33,time:0}},J=null!==(x=H("stats"))&&void 0!==x?x:{},W=null!==(T=H("level"))&&void 0!==T?T:30,q={type:$,theme:F,locale:"en",gameHints:Z,UIshowImgs:B,UIpuzzAnim:D,UIrestAnim:R,ziped:V,saved:G,stats:J,restart:{newGame:!1},refresh:{reason:""},level:W<=70&&W>=17?W:30,levelsFetched:null!==(A=H("levelsFetched"))&&void 0!==A?A:[]};var K=l(4572);function _(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function Y(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?_(Object(l),!0).forEach((function(t){(0,K.Z)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):_(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}const Q=(e=[],t=[],l=[])=>e.concat(t.filter((t=>!e.includes(t)))).filter((e=>!l.includes(e))),X=(e,t,l,a=[])=>{const n=[].concat(Object.keys(t.saved),Object.keys(t.stats),a);var r;(r=e,new Promise(((e,t)=>{fetch(`/level/${r}.json`).then((e=>e.json())).then((t=>e(t))).catch((e=>t(e)))}))).then((a=>{const r=0===e?((e,t,l)=>{if(0===Object.keys(e).length)return t;{const a=Y({},e);return Object.keys(t).forEach((e=>{t[e].forEach((t=>{l.includes(t)||(a[e]||(a[e]=[]),a[e].includes(t)||a[e].push(t))}))})),a}})(t.ziped,a,n):Y(Y({},t.ziped),{},{[e]:Q(t.ziped[e],a[e],n)});l({type:"UpdateLevelsFetched",level:e}),l({type:"ZipedLevelsUpdated",zipedJSON:r})}))};l(429);const ee={lang:window.navigator.language,timezone:((new Date).getTimezoneOffset()/60).toString(),screen:`${window.innerWidth}×${window.innerHeight}`,browser:navigator.userAgent.substring(0,150)||"",isApp:window.matchMedia("(display-mode: standalone)").matches.toString(),gameVersion:"0.0.63",type:"",theme:"",hints:"",ended:"",saved:"",levelsFetched:""},te=e=>{var t,l,a,n;return Object.keys(e).reduce(((t,l)=>Object.assign(t,{[l]:e[l].toString().substring(0,100)})),Object.assign({},ee,{type:H("type"),theme:H("theme"),hints:null===(t=H("gameHints"))||void 0===t?void 0:t.initNotes.toString(),ended:Object.keys(null!==(l=H("stats"))&&void 0!==l?l:{}).length.toString(),saved:Object.keys(null!==(a=H("saved"))&&void 0!==a?a:{}).length.toString(),levelsFetched:(null!==(n=H("levelsFetched"))&&void 0!==n?n:[]).join()}))},le=(e,t)=>{window.swetrix&&"function"==typeof window.swetrix.track?window.swetrix.track({ev:e.substring(0,63),meta:te(t)}):console.warn(e,te(t))},ae=(e,t)=>le(`level_${e}`,{loadingTime:t}),ne=(e,t)=>le(e.toString(),{info:t}),re=(e,t)=>le("error",{errCode:e,errMsg:t});function se(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function oe(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?se(Object(l),!0).forEach((function(t){(0,K.Z)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):se(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}window.addEventListener("error",(e=>{var t;re(0,null!==(t=e.error.stack)&&void 0!==t?t:e.message+" "+e.filename+" "+e.lineno+" "+e.colno)}));const ie=(e,t)=>{switch(t.type){case"TypeChange":return L("type",t.typeValue),oe(oe({},e),{},{type:t.typeValue});case"ThemeChange":return L("theme",t.theme),oe(oe({},e),{},{theme:t.theme});case"GameHintChange":{const l=oe(oe({},e.gameHints),{},{[t.hint]:t.checked});return"initNotes"===t.hint&&(l.keepFocusOnNotes=!t.checked,l.sameNum=!t.checked,l.hasValue=!t.checked,l.sameNumInNotes=!t.checked,l.sameRow=!t.checked,l.sameCol=!t.checked,l.sameBox=!t.checked,l.sameBeyond=!t.checked,l.singles=t.checked,l.pairs=t.checked,l.hiddSingles=t.checked,l.hiddPairs=t.checked,l.hiddTriples=t.checked),L("gameHints",l),oe(oe({},e),{},{gameHints:l})}case"UISettingChange":return L(t.id,t.checked),oe(oe({},e),{},{[t.id]:t.checked});case"AddNotes":return oe(oe({},e),{},{refresh:{reason:t.type}});case"SetLevel":return L("level",t.level),oe(oe({},e),{},{level:t.level});case"RestartGame":return oe(oe({},e),{},{restart:{newGame:t.newGame}});case"ZipedLevelUpdated":{const l=oe({},e.ziped);return l[t.level]=t.ziped,L("ziped",l),oe(oe({},e),{},{ziped:l})}case"ZipedLevelsUpdated":return L("ziped",t.zipedJSON),oe(oe({},e),{},{ziped:t.zipedJSON});case"StartGame":{const l=oe({},e.ziped),a=oe({},e.saved);return l[t.level]=(l[t.level]||[]).filter((e=>e!==t.ziped)),a[t.ziped]={lastPlayed:Date.now(),level:t.level,time:0},L("ziped",l),L("saved",a),oe(oe({},e),{},{ziped:l,saved:a})}case"SaveMoves":{const l=oe({},e.saved);return l[t.ziped]=oe(oe({},l[t.ziped]),{},{lastPlayed:Date.now(),moves:t.moves,time:t.time}),L("saved",l),oe(oe({},e),{},{newSaved:l})}case"UpdateGameTime":{const l=oe({},e.saved);return l[t.ziped]=oe(oe({},l[t.ziped]),{},{lastPlayed:Date.now(),time:t.time}),L("saved",l),oe(oe({},e),{},{newSaved:l})}case"CompleteGame":{const l=oe({},e.stats),a=oe({},e.saved);return l[t.ziped]=oe(oe({},e.saved[t.ziped]),{},{lastPlayed:Date.now(),time:t.time}),delete a[t.ziped],L("saved",a),L("stats",l),oe(oe({},e),{},{newSaved:a,newStats:l})}case"UpdateLevelsFetched":{const l=e.levelsFetched.filter((e=>e!==t.level));return l.push(t.level),L("levelsFetched",l),oe(oe({},e),{},{levelsFetched:l})}default:return re(3,`Unknown action: ${t.type}`),e}},ue=(0,a.createContext)({state:q,dispatch:()=>{}}),ce=()=>(0,a.useContext)(ue),de=a.default.memo((({children:e})=>{const[t]=(0,U.ZP)();var l;q.locale=(l=t.split("/")[1],["en","tr"].includes(l)?l:"en");const[n,r]=(0,a.useReducer)(ie,q);return(0,a.useEffect)((()=>((e,t)=>{e.levelsFetched.includes(0)||X(0,e,t)})(n,r)),[]),a.default.createElement(ue.Provider,{value:{state:n,dispatch:r}},e)})),me=e=>{const t=document.querySelector(`section > div:nth-of-type(${e+1}) input`);t instanceof HTMLInputElement&&(t.focus(),""===t.value&&t.select())},fe=(e,t,l=!1,a,n)=>{if(l){if("number"==typeof e&&e>0);else if(0!==t){const l="string"==typeof e?e.split("").map((e=>parseInt(e,10))):[],r=l.indexOf(t),s=r>=0?l.slice(0,r).concat(l.slice(r+1)):l.concat(t).sort();n(a,s.length?s.join(""):0,t)}}else n(a,t,t)},pe=(e,t)=>{t(e.reduce(((e,t)=>("number"==typeof t&&(e[t]=e[t]?e[t]+1:1),e)),{}))},he=({fieldVal:e,i:t,initVal:l,setFocus:n,puzleUpdate:r,overlap:s})=>{const{state:i}=ce(),u=(0,a.useRef)(!1),[c,d]=(e=>[Math.floor(e/9)+1,e%9+1])(t),m=e=>o.BUTTONS[i.type][e-1].toString(),f="string"==typeof e?e.split("").map((e=>parseInt(e,10))):[];return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:`s${Math.floor(t/9)+1}${l?" init":""}${s}`},f.map((e=>a.default.createElement("span",{className:`n${e}`,key:e},m(e)))),a.default.createElement("input",{type:"text",inputMode:"none",value:void 0===e||"string"==typeof e||0===e?"":m(e),onChange:0!==l?void 0:l=>{const a=u.current,n=l.target.value.slice(-1),s=parseInt(n,10)||0,o=0===s&&u.current?(e=>{switch(e){case"!":return 1;case"@":return 2;case"#":return 3;case"$":return 4;case"%":return 5;case"^":return 6;case"&":return 7;case"*":return 8;case"(":return 9}return 0})(n):s;fe(e,o,a,t,r)},onKeyDown:a=>{if("Backspace"===a.key)if("string"==typeof e){const l=e.slice(0,-1);r(t,""===l?0:l,""===l?0:parseInt(l,10))}else 0===l&&r(t,0,0);else u.current=a.getModifierState("CapsLock")||a.shiftKey,((e,t)=>{switch(e){case"ArrowRight":return me((t+1)%9?t+1:t-8);case"ArrowDown":return me(t+9>80?t-72:t+9);case"ArrowLeft":return me(t%9?t-1:t+8);case"ArrowUp":me(t-9<0?t+72:t-9)}})(a.key,t)},onSelect:e=>{e.preventDefault();const t=e.currentTarget;t.selectionStart=1,t.selectionEnd=1,setTimeout((()=>{t.selectionStart=1,t.selectionEnd=1}),100)},onFocus:()=>n(t),id:`c${t+1}`,"aria-label":`Sudoku cell rows ${c} column ${d}`})))},ve=a.default.memo(he),ge=({isPaused:e,resetCount:t,gameTime:l})=>{const n=(0,a.useRef)(0),r=(0,a.useRef)(setTimeout((()=>{}))),[s,o]=(0,a.useState)("00:00"),i=()=>{if(e)clearTimeout(r.current);else{n.current++;const e=Math.floor(n.current/60),t=n.current%60,a=`${e>9?e:`0${e}`}:${t>9?t:`0${t}`}`;l.current=a,o(a),r.current=setTimeout(i,1e3)}};return(0,a.useEffect)((()=>{clearTimeout(r.current),o("00:00"),n.current=0;const t=r.current;setTimeout((()=>{!1===e&&r.current===t&&i()}),1001)}),[t]),(0,a.useEffect)((()=>{e?clearTimeout(r.current):r.current=setTimeout(i,1e3)}),[e]),a.default.createElement("button",{className:"time"},s)},ye=a.default.memo(ge),Ee=({val:e,size:t=0,press:l,active:n,index:r})=>a.default.createElement("button",{onClick:l,className:t<9?n?"active":void 0:"off",disabled:9===t,style:r?void 0:{"--w":`${Math.ceil(t/9*100)}%`}},r?a.default.createElement("span",{className:`n${r}`},e):e),be=a.default.memo(Ee),we=({noteOptions:e,pressButton:t,lastN:l,val:n})=>{const{state:r}=ce(),s=o.BUTTONS[r.type];return a.default.createElement("section",{className:"keys"},a.default.createElement("fieldset",null,o.BUTTONS.classic.map(((n,r)=>a.default.createElement(be,{key:n,val:s[r].toString(),size:e[n],press:()=>t(n),active:l===n})))),a.default.createElement("fieldset",{className:"notes"},o.BUTTONS.classic.map(((r,o)=>a.default.createElement(be,{key:r,val:s[o].toString(),size:e[r],press:()=>t(r,!0),active:0===l&&"string"==typeof n&&n.split("").includes(r.toString()),index:o+1})))))},ke=a.default.memo(we),Ce=()=>a.default.createElement("svg",{viewBox:"0 0 24 24"},a.default.createElement("path",{d:"M12 17V11"}),a.default.createElement("circle",{cx:"12",cy:"7.5",r:"1"}),a.default.createElement("path",{opacity:"0.5",d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z"})),Se=()=>a.default.createElement("svg",{viewBox:"0 0 24 24"},a.default.createElement("path",{d:"M6.5 9.50026H14.0385C15.9502 9.50026 17.5 11.05 17.5 12.9618C17.5 14.8736 15.9502 16.4233 14.0385 16.4233H9.5M6.5 9.50026L8.75 7.42334M6.5 9.50026L8.75 11.5772"}),a.default.createElement("path",{opacity:"0.5",d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z"})),ze=()=>a.default.createElement("svg",{viewBox:"0 0 24 24"},a.default.createElement("path",{d:"M8.5 9L11.5 12L8.5 15"}),a.default.createElement("path",{d:"M12.5 9L15.5 12L12.5 15"}),a.default.createElement("path",{opacity:"0.5",d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z"})),Oe=()=>a.default.createElement("svg",{viewBox:"0 0 24 24"},a.default.createElement("path",{opacity:"0.5",d:"M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2"}),a.default.createElement("path",{d:"M16.1549 3.43415L18.5122 5.47712C20.1349 6.88345 20.9462 7.58662 20.9462 8.49988C20.9462 9.41314 20.1349 10.1163 18.5122 11.5226L16.1549 13.5656C15.4414 14.184 15.0846 14.4932 14.7923 14.3597C14.5 14.2262 14.5 13.7541 14.5 12.8099V11.2856C11.5 11.2856 8.25 12.6785 7 14.9999C7 7.57131 11.4444 5.71416 14.5 5.71416V4.18984C14.5 3.24562 14.5 2.77351 14.7923 2.64003C15.0846 2.50656 15.4414 2.81575 16.1549 3.43415Z"})),Ne=()=>a.default.createElement("svg",{viewBox:"0 0 24 24"},a.default.createElement("circle",{opacity:"0.5",cx:"12",cy:"12",r:"10"}),a.default.createElement("path",{d:"M13.8876 9.9348C14.9625 10.8117 15.5 11.2501 15.5 12C15.5 12.7499 14.9625 13.1883 13.8876 14.0652C13.5909 14.3073 13.2966 14.5352 13.0261 14.7251C12.7888 14.8917 12.5201 15.064 12.2419 15.2332C11.1695 15.8853 10.6333 16.2114 10.1524 15.8504C9.6715 15.4894 9.62779 14.7336 9.54038 13.2222C9.51566 12.7947 9.5 12.3757 9.5 12C9.5 11.6243 9.51566 11.2053 9.54038 10.7778C9.62779 9.26636 9.6715 8.51061 10.1524 8.1496C10.6333 7.78859 11.1695 8.11466 12.2419 8.76679C12.5201 8.93597 12.7888 9.10831 13.0261 9.27492C13.2966 9.46483 13.5909 9.69274 13.8876 9.9348Z"})),je=()=>a.default.createElement("svg",{viewBox:"0 0 24 24"},a.default.createElement("circle",{opacity:"0.5",cx:"12",cy:"12",r:"10"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M12 12V10"}),a.default.createElement("animateTransform",{repeatCount:"indefinite",dur:"10s",to:"360 12 12",from:"0 12 12",type:"rotate",attributeName:"transform",attributeType:"xml"})),a.default.createElement("g",null,a.default.createElement("path",{d:"M12 8V12"}),a.default.createElement("animateTransform",{repeatCount:"indefinite",dur:"1s",to:"360 12 12",from:"0 12 12",type:"rotate",attributeName:"transform",attributeType:"xml"}))),Pe=()=>a.default.createElement("svg",{viewBox:"0 0 24 24"},a.default.createElement("circle",{opacity:"0.5",cx:"12",cy:"12",r:"10"}),a.default.createElement("path",{d:"M8 9.5C8 9.03406 8 8.80109 8.07612 8.61732C8.17761 8.37229 8.37229 8.17761 8.61732 8.07612C8.80109 8 9.03406 8 9.5 8C9.96594 8 10.1989 8 10.3827 8.07612C10.6277 8.17761 10.8224 8.37229 10.9239 8.61732C11 8.80109 11 9.03406 11 9.5V14.5C11 14.9659 11 15.1989 10.9239 15.3827C10.8224 15.6277 10.6277 15.8224 10.3827 15.9239C10.1989 16 9.96594 16 9.5 16C9.03406 16 8.80109 16 8.61732 15.9239C8.37229 15.8224 8.17761 15.6277 8.07612 15.3827C8 15.1989 8 14.9659 8 14.5V9.5Z"}),a.default.createElement("path",{d:"M13 9.5C13 9.03406 13 8.80109 13.0761 8.61732C13.1776 8.37229 13.3723 8.17761 13.6173 8.07612C13.8011 8 14.0341 8 14.5 8C14.9659 8 15.1989 8 15.3827 8.07612C15.6277 8.17761 15.8224 8.37229 15.9239 8.61732C16 8.80109 16 9.03406 16 9.5V14.5C16 14.9659 16 15.1989 15.9239 15.3827C15.8224 15.6277 15.6277 15.8224 15.3827 15.9239C15.1989 16 14.9659 16 14.5 16C14.0341 16 13.8011 16 13.6173 15.9239C13.3723 15.8224 13.1776 15.6277 13.0761 15.3827C13 15.1989 13 14.9659 13 14.5V9.5Z"})),Me=()=>a.default.createElement("svg",{viewBox:"0 0 24 24"},a.default.createElement("path",{d:"M9 12C9 12.5523 8.55228 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55228 11 9 11.4477 9 12Z"}),a.default.createElement("path",{d:"M13 12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12C11 11.4477 11.4477 11 12 11C12.5523 11 13 11.4477 13 12Z"}),a.default.createElement("path",{d:"M17 12C17 12.5523 16.5523 13 16 13C15.4477 13 15 12.5523 15 12C15 11.4477 15.4477 11 16 11C16.5523 11 17 11.4477 17 12Z"}),a.default.createElement("path",{opacity:"0.5",d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z"})),Ie=({hasUpdate:e})=>a.default.createElement("article",null,e?a.default.createElement("aside",null,a.default.createElement("p",null,"A new soodoku version is availible, refresh the page or press the button below to restart the game. Your current game will be lost."),a.default.createElement("button",{onClick:()=>window.location.reload()},"Restart to update")):null,a.default.createElement("h1",null,a.default.createElement("b",null,"S"),a.default.createElement("b",null,"o"),a.default.createElement("b",null,"o"),"doku"),a.default.createElement("p",null,"Sudoku is a free online & offline number game with unlimited puzzles available 24/7 in any browser and airplane mode. Advanced Soodoku web app (PWA) works without ads or registration on any mobile: iOS, iPad OS, or Android."),a.default.createElement("p",null,"Classic suduko puzzles have easy, medium, hard, and evil (killer difficulty) levels. Advanced soodoku game allows players to set their preferred difficulty precisely with a range of 17 to 70 initial clues."),a.default.createElement("h2",null,"Sudoku Puzzles"),a.default.createElement("p",null,"Classic sudoku is a numeric puzzle with a 9×9 grid where some cells are prefilled with digits from 1 to 9. The player fills in all the remaining cells so that each row, column, and 3×3 box in the grid contains all nine digits."),a.default.createElement("h2",null,"Sudoku Rules"),a.default.createElement("p",null,"Each horizontal row, vertical column, and 3×3 block must contain numbers from 1 to 9, and numbers in each horizontal row, vertical column and 3×3 block must be unique (cannot be repeated). Every correct sudoku puzzle must have a unique solution."),a.default.createElement("p",null,"Interesting fact: there are invalid sudoku puzzles with up to 77 cells filled where multiple solutions are possible."),a.default.createElement("h2",null,"Easy to Expert Sudoku Levels"),a.default.createElement("p",null,"The rule of the traditional sudoku requires the puzzle to have only one unique solution. A minimum of 17 clues are necessary to form a valid sudoku puzzle. The game complexity increases when fewer clues are provided to the player at the start."),a.default.createElement("p",null,"Easy sudoku games usually have 30+ initial clues, medium games have 27-30 clues, hard games have 23-27 clues and extreme or expert sudoku puzzles have 17 to 23 initial clues."),a.default.createElement("h2",null,"Evil Sudoku"),a.default.createElement("p",null,"Evil is the highest possible level of difficulty for a valid sudoku game. Evil sudoku usually has less than 23 initial clues, but the complexity is defined not by the number of givens, but by the techniques needed to apply to solve it."),a.default.createElement("p",null,"Extreme or evil sudoku puzzles require knowledge of advanced sudoku techniques and they're best suitable for experienced sudoku solvers."),a.default.createElement("h2",null,"Advanced Sudoku"),a.default.createElement("p",null,"Soodoku game has multiple advanced settings: players can configure various visual hints, replace numbers with emoji or colors, play offline, save and restore started games, share favorite puzzles, view statistics, and track their progress."),a.default.createElement("h2",null,"Free Sudoku Without Ads"),a.default.createElement("p",null,"Soodoku authors value quality time. We limit disturbances and annoyances, allowing players to focus on puzzle-solving. Our sudoku game is ad free, doesn't show banners or ask for registration. We are pleased to deliver you the best sudoku experince possible with no hidden cost."),a.default.createElement("h2",null,"Health Benefits of Sudoku"),a.default.createElement("p",null,"Sudoku is a healthy game as it helps to keep the brain active, reducing the risk of memory loss and dementia. Play sudoku daily and enjoy beneficial brain challenges."),a.default.createElement("p",null,a.default.createElement("small",null,"Soodoku version: ","0.0.63",". Released on: ","2023-12-28","."))),xe=({sameLevel:e})=>{const{state:t,dispatch:l}=ce(),[n,r]=(0,a.useState)(t.level),s=()=>l({type:"RestartGame",newGame:!0});return a.default.createElement(a.default.Fragment,null,a.default.createElement("details",{open:e},a.default.createElement("summary",null,"Play again with ",n," clues"),a.default.createElement("button",{onClick:()=>l({type:"AddNotes"})},"Fill cells with notes"),a.default.createElement("button",{onClick:()=>l({type:"RestartGame",newGame:!1})},"Restart this game"),a.default.createElement("button",{onClick:s},"Start a new game")),a.default.createElement("details",{open:!e},a.default.createElement("summary",null,"Change the level"),a.default.createElement("button",{onClick:()=>r(35)},"Easy • 35"),a.default.createElement("button",{onClick:()=>r(29)},"Medium • 29"),a.default.createElement("button",{onClick:()=>r(23)},"Hard • 23"),a.default.createElement("button",{onClick:()=>r(17)},"Extreme • 17"),a.default.createElement("label",null,a.default.createElement("input",{type:"range",list:"steplist",min:17,max:70,step:"1",value:n,onChange:e=>{const t=parseInt(e.target.value,10);Number.isInteger(t)&&t<=70&&t>=17&&r(t)},"aria-label":"Difficulty Level"}),a.default.createElement("mark",{style:(e=>({left:100-(2.2+(e-17)/53*95.6)+"%"}))(n)},n),a.default.createElement("datalist",{id:"steplist"},a.default.createElement("option",null,"17"),a.default.createElement("option",null,"23"),a.default.createElement("option",null,"29"),a.default.createElement("option",null,"35"),a.default.createElement("option",null,"70"))),a.default.createElement("button",{onClick:()=>t.level!==n?l({type:"SetLevel",level:n}):s()},"Start new game with ",n," clues")),a.default.createElement("p",null,"The level is defined by the number of clues (cells with initial numbers). The game gets harder when there are less clues. Sudoku always has one unique solution, and must have minimum 17 clues."))},Te=a.default.memo(xe);l(4043),l(2462);const Ae=(e,t)=>{const l=["system","light","dark","cozy","cute","flight","bed","drop"];l.includes(e)&&(l.forEach((t=>{document.body.classList.toggle(t,t===e)})),t(e))},Ue=(e,t)=>{document.body.classList.toggle(e,!1!==t)},He={system:"System",light:"Light",cozy:"↳ Cozy",cute:"↳ Cute",flight:"↳ Airport",dark:"Dark",bed:"↳ Sunday Noon",drop:"↳ Icy Glass"},Le={classic:"Numbers (Classic Sudoku)",emoji:"Emoji 🤔",colors:"Colors 🔵",animals:"Animals 🐠",sport:"Sport Items ⚾",food:"Food 🍿",places:"Travel 🏖️",flowers:"Plants & Flowers 🌸",objects:"Objects 🧸",transport:"Transport 🛩️"},$e={initNotes:"Prefill empty cells with notes when starting a game",keepFocusOnNotes:"Keep the the last value active when moving focus to empty cells"},Fe={focus:"Currently focused",error:"Errors",sameNum:"Same values",sameNumInNotes:"Same value in notes",hasValue:"Other cells with values",sameRow:"Same row",sameCol:"Same column",sameBox:"Same 3×3 box",sameBeyond:"Same row/column/box for cells with same values"},Ze={singles:"Naked singles",pairs:"Naked pairs",hiddSingles:"Hidden signles",hiddPairs:"Hidden pairs",hiddTriples:"Hidden triples"},Be=({match:e,children:t})=>e?a.default.createElement("strong",null,t):a.default.createElement(a.default.Fragment,null,t),De=({id:e,i:t,val:l,state:n,text:r,onChange:s})=>a.default.createElement("li",null,a.default.createElement("input",{type:"radio",id:`${e}${t}`,name:e,value:l,checked:n===l,onChange:s}),a.default.createElement("label",{htmlFor:`${e}${t}`},r)),Re=({id:e,state:t,text:l,onChange:n})=>a.default.createElement("li",null,a.default.createElement("label",{className:"switch"},a.default.createElement("input",{type:"checkbox",id:e,checked:t[e],onChange:n}),a.default.createElement("mark",{className:"slider"}),l)),Ve=()=>{const{state:e,dispatch:t}=ce(),l=e=>{Ae(e.target.value,(e=>{t({type:"ThemeChange",theme:e})}))},n=e=>{const l=e.target.value;Object.keys(o.BUTTONS).includes(l)&&t({type:"TypeChange",typeValue:l})},r=e=>{const l=e.target.id,a=e.target.checked;t({type:"GameHintChange",hint:l,checked:a})},s=l=>{const{id:a,checked:n}=l.target;a in e&&(Ue(a,n),t({type:"UISettingChange",id:a,checked:n}))};return a.default.createElement(a.default.Fragment,null,a.default.createElement("details",null,a.default.createElement("summary",null,"Color theme"),a.default.createElement("ul",null,Object.entries(He).map((([t,n],r)=>a.default.createElement(De,{key:t,val:t,id:"theme",i:r,state:e.theme,text:n,onChange:l}))))),a.default.createElement("details",null,a.default.createElement("summary",null,"Interface & visual elements"),a.default.createElement("ul",null,a.default.createElement("li",null,a.default.createElement("label",{className:"switch"},a.default.createElement("input",{type:"checkbox",id:"UIshowImgs",checked:e.UIshowImgs,onChange:s}),a.default.createElement("mark",{className:"slider"}),"Show background images"))),a.default.createElement("details",null,a.default.createElement("summary",null,"Interface animation"),a.default.createElement("ul",null,a.default.createElement("li",null,a.default.createElement("label",{className:"switch"},a.default.createElement("input",{type:"checkbox",id:"UIpuzzAnim",checked:e.UIpuzzAnim,onChange:s}),a.default.createElement("mark",{className:"slider"}),"Animate sudoku puzzle cells & action buttons")),a.default.createElement("li",null,a.default.createElement("label",{className:"switch"},a.default.createElement("input",{type:"checkbox",id:"UIrestAnim",checked:e.UIrestAnim,onChange:s}),a.default.createElement("mark",{className:"slider"}),"Other interface animations"))))),a.default.createElement("details",null,a.default.createElement("summary",null,"Prefill notes & Highlight cells"),a.default.createElement("ul",null,Object.entries($e).map((([t,l])=>a.default.createElement(Re,{key:t,id:t,state:e.gameHints,text:l,onChange:r})))),a.default.createElement("details",null,a.default.createElement("summary",null,"Highlight cells"),a.default.createElement("ul",null,Object.entries(Fe).map((([t,l])=>a.default.createElement(Re,{key:t,id:t,state:e.gameHints,text:l,onChange:r}))))),a.default.createElement("details",null,a.default.createElement("summary",null,"Highlight notes"),a.default.createElement("ul",null,Object.entries(Ze).map((([t,l])=>a.default.createElement(Re,{key:t,id:t,state:e.gameHints,text:l,onChange:r})))))),a.default.createElement("details",null,a.default.createElement("summary",null,"Using numbers or emoji"),a.default.createElement("ul",null,Object.entries(Le).map((([t,l],r)=>a.default.createElement(De,{key:t,val:t,id:"type",i:r,state:e.type,text:l,onChange:n}))))),a.default.createElement("details",null,a.default.createElement("summary",null,"Technical information"),a.default.createElement("ul",null,a.default.createElement("li",{className:"p"},a.default.createElement("strong",null,"Levels available offline"),a.default.createElement("samp",null,Object.entries(e.ziped).map((([t,l])=>a.default.createElement(Be,{match:Number(t)===e.level,key:t},a.default.createElement(a.default.Fragment,null,a.default.createElement("b",null,t,":"),` ${((" "+l.length).slice(-3)+"  ").slice(0,3)} `)))))),a.default.createElement("li",{className:"p"},a.default.createElement("strong",null,"Saved & Completed levels"),a.default.createElement("samp",null,"Saved: ",Object.entries(e.saved).length,"; Completed: ",Object.entries(e.stats).length)))))},Ge=a.default.memo(Ve),Je={"":null,info:a.default.createElement(Ie,null),next:a.default.createElement(Te,{sameLevel:!0}),level:a.default.createElement(Te,{sameLevel:!1}),setting:a.default.createElement(Ge,null)},We=(()=>{let e=null;return(t,l)=>(""!==t&&(e=Je[t]),l&&null!==e?a.default.cloneElement(e,{hasUpdate:!0}):e)})(),qe=({showMenu:e,hideMenu:t,hasU:l})=>a.default.createElement("nav",{className:""===e?"hidden":void 0},a.default.createElement("button",{onClick:t},"×"),We(e,l)),Ke=a.default.memo(qe);l(8730),l(9307),l(8858),l(1318),l(3228),l(2176),l(7961),l(7267),l(6532),l(9873);const _e=e=>{const t=Array(81).fill(0);return e.forEach(((e,l)=>{return t[(a=l,9*(a%9+1)-(Math.floor(a/9)+1))]=e;var a})),t},Ye=()=>{const e=[1,2,3,4,5,6,7,8,9],t=[];for(;e.length>0;)t.push(...e.splice(Math.floor(Math.random()*e.length),1));return"123456789"===t.join("")?Ye():t},Qe=e=>e.slice(0,5).map((e=>(e=>{const t=((e,t)=>e.map((e=>0===e?0:t[e-1])))(e,Ye()),l=(e=>{const t=[].concat(e),l=Math.floor(3*Math.random()),a=Math.floor(2*Math.random())+1;for(let e=0;e<81;e+=9){const n=t.splice(e+3*l,3);t.splice(e+(3*l+3*a)%9,0,...n)}return t})((e=>{const t=[].concat(e),l=Math.floor(3*Math.random()),a=Math.floor(2*Math.random())+1,n=t.splice(27*l,27),r=(27*l+27*a)%81;return t.splice(r,0,...n),t})(t));return((e,t,l)=>{let a=l;for(let l=1;l<=t;l++)a=e(a);return a})(_e,Math.floor(2*Math.random())+1,l)})(e)));function Xe(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function et(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(l),!0).forEach((function(t){(0,K.Z)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Xe(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}const tt=()=>Array(81).fill(0),lt=tt(),at=e=>new Promise(((t,a)=>{const n=window.Worker?"number"==typeof e?new Worker(new URL(l.p+l.u(418),l.b)):new Worker(new URL(l.p+l.u(548),l.b)):null;n&&"function"==typeof n.postMessage?(n.postMessage(e),n.onmessage=({data:e})=>{Array.isArray(e)?t(e):a("worker data is not an array"),n.terminate()}):a("the worker was not initialized")})).catch((()=>(re(4,("number"==typeof e?"Generate":"Solve")+" worker failure"),at(e)))),nt=e=>at(e),rt=e=>e.reduce(((e,t,l)=>{if("number"!=typeof t||0===t)return e;const a=e[t];return e[t]="string"==typeof a?a+o.ZIP.HASH.at(l):o.ZIP.HASH.at(l),e}),[]).join(o.ZIP.HASHSPLIT).substring(1),st=o.ZIP.HASH.split("").reduce(((e,t,l)=>(e[t]=l,e)),{}),ot=(e,t)=>{let l=0;const a=e.replaceAll(o.ZIP.HASHSPLIT,"").length,n=tt();if(e.split(o.ZIP.HASHSPLIT).map(((e,t)=>{e.split("").map((e=>{l++,n[st[e]]=t+1}))})),t!==l){const a=Number("5."+t.toString()+l.toString());re(a,`Corrupted unzip, puzzle: ${e}, level: ${t}`)}if(t!==a){const l=Number("5."+t.toString()+a.toString());re(l,`Corrupted unzip, puzzle: ${e}, level: ${a}`)}return n},it=(e,t)=>e.every(((e,l)=>e===t[l]||0===e||"string"==typeof e)),ut=(e,t)=>Object.keys(t).filter((l=>t[l].level===e)),ct=(e,t,l,a)=>({type:"ZipedLevelsUpdated",zipedJSON:et(et({},e),{},{[t]:Q(e[t],a,l)})}),dt=async(e,t,l,a)=>{const{puzzle:n,solved:r}=await(async(e,t,l,a)=>{const n=[];let r="";do{""!==r&&n.push(r),r=(s=e)[Math.floor(Math.random()*s.length)]}while(t.includes(r));var s;const o=ot(r,l),i=await(e=>at(e))(o);return n.length>0&&("function"==typeof a?a({type:"ZipedLevelUpdated",level:l,ziped:e.filter((e=>!n.includes(e)))}):re(6,"Repeated Puzzles No Dispatch")),{puzzle:o,solved:i}})(e,t,l,a||void 0);return 81===n.length&&81===r.length&&{puzzle:n,solved:r}},mt=()=>{const{state:e,dispatch:t}=ce(),l=(0,a.useRef)(!0),n=(0,a.useRef)(0),s=(0,a.useRef)("00:00"),o=(0,a.useRef)(0),i=(0,a.useRef)(lt),u=(0,a.useRef)(lt),[c,d]=(0,a.useState)(""),[m,f]=(0,a.useState)(!0),[p,h]=(0,a.useState)(!1),[v,g]=(0,a.useState)(!1),[y,E]=(0,a.useState)(!0),[b,S]=(0,a.useState)({}),[z,O]=(0,a.useState)([]),[N,j]=(0,a.useState)(-1),[P,M]=(0,a.useState)(0),[I,x]=(0,a.useState)([]),[T,A]=(0,a.useState)(lt),[U,H]=(0,a.useState)([]),[L,$]=(0,a.useState)(!1);(0,a.useEffect)((()=>{""!==c&&(d(""),J(e.level))}),[e.level]),(0,a.useEffect)((()=>{""!==c&&e.restart&&(d(""),M(0),D(-1),x([]),e.restart.newGame?J(e.level,-1):i.current.some((e=>0!==e))&&(o.current++,A(e.gameHints.initNotes?C(i.current):i.current),H([{puzzle:i.current,i:-1}]),$(!1),f(!1),g(!1),E(!1),pe(i.current,S),ae(e.level,"restart")))}),[e.restart]),(0,a.useEffect)((()=>{"AddNotes"===e.refresh.reason&&i.current.some((e=>0!==e))&&(A(C(T)),H((e=>e.concat({puzzle:T,i:-1}))),$(!1),d(""),ne("addNotes",`Undo history: ${U.length}`))}),[e.refresh]);const F=t=>((e,t,l,a,n)=>{if(e>0&&e<10){const r=t.indexOf(e);n(r>-1?{overlap:w(t,r,l,e,a),focus:r,lastN:e}:{overlap:w(t,-1,l,0,a),focus:-1,lastN:0})}else 0===e&&n({overlap:w(t,-1,l,0,a),focus:-1,lastN:0})})(t,T,I,e.gameHints,(({overlap:e,focus:t,lastN:l})=>{O(e),D(t),M(l)})),Z=e=>{if(e.stopPropagation(),e.stopImmediatePropagation(),y||m||I.length>0){if(e.preventDefault(),I.length>0){const t=parseInt(e.key,10);t.toString()===e.key&&T[N]===t&&fe(T[N],0,!1,N,G)}}else if(!(e.target instanceof HTMLInputElement)||e.target instanceof HTMLInputElement&&""!==e.target.value){const t=parseInt(e.key,10);t.toString()===e.key&&e.preventDefault(),"number"==typeof t&&F(t)}},B=()=>{if(!0===m)return;const e=s.current.split(":");t({type:"UpdateGameTime",time:60*parseInt(e[0],10)+parseInt(e[1],10),ziped:rt(i.current)})};(0,a.useEffect)((()=>(document.addEventListener("visibilitychange",B),window.addEventListener("pagehide",B,!1),()=>{document.removeEventListener("visibilitychange",B),window.removeEventListener("pagehide",B,!1)})),[m]),(0,a.useEffect)((()=>(window.addEventListener("keydown",Z),window.isUpdateAvailable instanceof Promise&&window.isUpdateAvailable.then((e=>e&&h(!0))),()=>window.removeEventListener("keydown",Z))),[i.current]);const D=t=>{if(y||m)return;const l=T[t];"number"==typeof l&&0!==l?M(l):!1===e.gameHints.keepFocusOnNotes?M(0):0===P&&"string"==typeof l&&O(w(T,t,I,P,e.gameHints)),j(t)};(0,a.useEffect)((()=>{(P>-1||-1===P&&e.gameHints.initNotes)&&O(w(T,N,I,P,e.gameHints))}),[T,N,I,P,e.gameHints.initNotes]);const R=({puzzle:l,solved:a})=>{t({type:"StartGame",level:e.level,ziped:rt(l)}),i.current=l,o.current++,u.current=a,M(0),A(e.gameHints.initNotes?C(l):l),H([{puzzle:l,i:-1}]),$(!1),f(!1),g(!1),pe(l,S);const r=((Date.now()-n.current)/1e3).toFixed(1);ae(e.level,r)},V=a=>{g(!0),E(!1),n.current=Date.now(),l.current=!1;const r="number"!=typeof a?e.level:a;(e=>{le("start",{level:e})})(r),(async(e,t,l,a,n)=>{const r=Math.max(Math.min(Number.isInteger(e)?e:30,70),17),s=l.ziped[r],o=((e,t)=>{const l=rt(e);return(l?[l]:[]).concat(Object.keys(t.saved),Object.keys(t.stats))})(t,l);if(Array.isArray(s)&&s.length>0){const e=await dt(s,o,r,n);e?(o.push(rt(e.puzzle)),a(e)):re(7,"Picked empty puzzle")}else if(r>=23){const e=await nt(r),t=rt(e),l=await dt([t],o,r);l?(o.push(t),a(l)):re(8,"Picked empty puzzle")}else re(9,"Ziped array is empty and level < 23");if(!Array.isArray(s)||s.length<=5)if(r>=23){const e=await((e,t)=>Promise.all(Array.from({length:5},(()=>nt(e).then((e=>rt(e)))))))(r);n(ct(l.ziped,r,o,e))}else if(l.levelsFetched.includes(r)){const e=((e,{saved:t,stats:l})=>ut(e,t).concat(ut(e,l)))(r,l),t=((e,t)=>{const l=[].concat(e),a=[];for(let e=0;e<5;e++){const e=Math.floor(Math.random()*l.length);a.push(...l.splice(e,1))}return a})(e),a=Qe(t.map((e=>ot(e,r)))).map((e=>rt(e)));n(ct(l.ziped,r,o,a))}else X(r,l,n,o)})(r,i.current,e,R,t)},G=(a,n,o)=>{"number"==typeof o&&0!==o&&("string"==typeof n&&-1===n.indexOf(o.toString())||("string"==typeof n&&1===n.length?M(Number(n)):M(o))),A((o=>{const c=[...o];c[a]=n;const d=o[a],m="string"==typeof d?d:"",{overlapIndexes:p,cleanState:h}=k(c,a,m);if(!l.current){const n=it(h,u.current);if(H((e=>e.concat({puzzle:o,i:a}))),$(!1),n){pe(h,S);const a=h.every((e=>"number"==typeof e&&e>0)),n=rt(i.current),o=s.current.split(":"),u=60*parseInt(o[0],10)+parseInt(o[1],10);a?(t({type:"CompleteGame",time:u,ziped:n}),M(0),D(-1),x([]),f(!0),E(!0),l.current=!0,((e,t)=>{le("end",{level:e,gameTime:t})})(e.level,s.current),(0,r.Z)({particleCount:200,spread:50,ticks:250,origin:{y:.8}})):t({type:"SaveMoves",time:u,ziped:n,moves:JSON.stringify(h)})}p.length>0||!n?x([a,...p]):x([])}return h}))},J=(e,t)=>{v||(0!==e?(f(!0),V(e)):l.current?V():(B(),m||ne("pause",`Undo history: ${U.length}`),f((e=>!e))),me(null!=t?t:N))},W=()=>J(0),q=e=>()=>{var t;return null!==(t=void(""!==e&&""===c&&ne("menu",e)))&&void 0!==t?t:d((t=>""===t?e:""))},K=q("info"),_=q("next"),Y=q("level"),Q=q("setting");return a.default.createElement(a.default.Fragment,null,a.default.createElement(Ke,{showMenu:c,hideMenu:()=>d(""),hasU:p}),a.default.createElement("section",{className:"header"},!m&&U.length>1||L?a.default.createElement("button",{onClick:()=>{let t=N;if(U.length>1){const l=U.pop();if(1===U.length&&($(!0),setTimeout((()=>$(!1)),5e3)),l){const{puzzle:a,i:n}=l;t=n,D(n),me(n),!1===e.gameHints.keepFocusOnNotes&&M(0),A(a),H(U),ne("undo",`Level: ${e.level}, Undo history: ${U.length}`);const r=a[n],{overlapIndexes:s,cleanState:o}=k(a,n,"string"==typeof r?r:""),i=it(o,u.current);pe(o,S),s.length>0||!i?x([n,...s]):x([])}}me(t)},className:"info"+(L?" disabled":""),"aria-label":"Undo"},a.default.createElement(Se,null)):a.default.createElement("button",{onClick:K,className:"info"+(p?" update":""),"aria-label":"About Soodoku"},a.default.createElement(Ce,null)),a.default.createElement("button",{onClick:_,className:"next","aria-label":"Play another game"},a.default.createElement(ze,null)),a.default.createElement("button",{onClick:Y,className:"level"},(e=>e>=35?`Easy ${e}`:e>=29?`Medium ${e}`:e>=23?`Hard ${e}`:`Extreme ${e}`)(e.level)),a.default.createElement("button",{onClick:W,"aria-label":m?v?"Loading":"Play":"Pause",className:"play"},m?v?a.default.createElement(je,null):a.default.createElement(Ne,null):a.default.createElement(Pe,null)),a.default.createElement(ye,{isPaused:m,resetCount:o.current,gameTime:s}),a.default.createElement("button",{onClick:()=>{var e;return null!==(e=void ne("menu","share"))&&void 0!==e?e:alert("Soon you'll be able to save & share your favorive sudoku puzzles")},className:"share","aria-label":"Share"},a.default.createElement(Oe,null)),a.default.createElement("button",{onClick:Q,className:"settings","aria-label":"Settings"},a.default.createElement(Me,null))),a.default.createElement("section",{className:"puzzle"+(y?" fini":m?v?" load":" pause":"")},a.default.createElement("button",{onClick:W,className:"play","aria-label":"Play"},a.default.createElement(Ne,null)),T.map(((e,t)=>a.default.createElement(ve,{i:t,key:t,fieldVal:e,initVal:i.current[t],setFocus:D,focusValue:T[N]||0,puzleUpdate:G,overlap:z[t]})))),a.default.createElement(ke,{noteOptions:b,pressButton:(e,t=!1)=>{N<0||N>-1&&"number"==typeof T[N]&&0!==T[N]&&T[N]!==e?F(e):N>-1&&0===i.current[N]&&("string"==typeof T[N]||0===T[N]?fe(T[N],e,t,N,G):T[N]===e&&fe(T[N],0,t,N,G))},play:W,lastN:P,val:T[N]}))},ft=a.default.memo(mt);(()=>{var e;const t=null!==(e=H("theme"))&&void 0!==e?e:"system";Ae(t,(()=>{})),(e=>{if(!window.matchMedia)return;const t=window.matchMedia("(prefers-color-scheme: dark)");e(t.matches),t.addEventListener("change",(t=>e(t.matches)))})((e=>document.body.id=e?"dark":"light"))})(),["UIshowImgs","UIpuzzAnim","UIrestAnim"].forEach((e=>{var t;const l="UIpuzzAnim"===e?!window.matchMedia("(pointer: coarse)").matches:void 0,a=null!==(t=H(e))&&void 0!==t?t:l;Ue(e,a)})),window.isUpdateAvailable=new Promise((e=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then((t=>{t.onupdatefound=()=>{const l=t.installing;l&&(l.onstatechange=()=>{null!==navigator.serviceWorker.controller&&"installed"===l.state&&e(Boolean(l))})}}))}));const pt=document.body.firstElementChild;(0,n.so)(pt).render(a.default.createElement(a.default.StrictMode,null,a.default.createElement(de,null,a.default.createElement(ft,null))))}},l={};function a(e){var n=l[e];if(void 0!==n)return n.exports;var r=l[e]={exports:{}};return t[e].call(r.exports,r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,l,n,r)=>{if(!l){var s=1/0;for(c=0;c<e.length;c++){for(var[l,n,r]=e[c],o=!0,i=0;i<l.length;i++)(!1&r||s>=r)&&Object.keys(a.O).every((e=>a.O[e](l[i])))?l.splice(i--,1):(o=!1,r<s&&(s=r));if(o){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[l,n,r]},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.u=e=>e+"."+{418:"e086",548:"1538"}[e]+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/",(()=>{a.b=document.baseURI||self.location.href;var e={179:0};a.O.j=t=>0===e[t];var t=(t,l)=>{var n,r,[s,o,i]=l,u=0;if(s.some((t=>0!==e[t]))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(i)var c=i(a)}for(t&&t(l);u<s.length;u++)r=s[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},l=self.webpackChunksudoku=self.webpackChunksudoku||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var n=a.O(void 0,[321,977],(()=>a(7531)));n=a.O(n)})();