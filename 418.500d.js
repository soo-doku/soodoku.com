(()=>{"use strict";var e,t,o={9418:(e,t,o)=>{var r=o(4572);o(3948),o(7658),o(1703),o(2707);const n=(e,t)=>[...Array(e).keys()].map((e=>t(e))),i=n(9,(e=>e+1)),s={getRow:e=>e%9,getCol:e=>Math.floor(e/9),getIndex:(e,t)=>9*t+e,getZone:(e,t)=>{const o=void 0===t?e:9*t+e,r=s.getRow(o),n=s.getCol(o),i=Math.floor(n/3);return 3*Math.floor(r/3)+i},getZoneIndexs:(e=0)=>{let t=[0,1,2],o=[0,1,2],r=[];for(let n in o){let i=o[n];for(let o in t){let n=t[o];r.push(9*(i+3*Math.floor(e/3))+(n+e%3*3))}}return r}},l=e=>{const t=null==e?0:e.length;if(!t)return[];let o=-1;const r=t-1,n=[].concat(e);for(;++o<t;){const e=o+Math.floor(Math.random()*(r-o+1)),t=n[e];n[e]=n[o],n[o]=t}return n},u=(e,t,o,r,n,i)=>{let l,a=s.getRow(n),f=s.getCol(n),h=s.getZone(n);if(n>=81)return!0;if(-1!==e[n])return u(e,t,o,r,n+1,i);for(let s in i)if(l=i[s],!t[a][l]&&!o[f][l]&&!r[h][l]){if(e[n]=l,t[a][l]=!0,o[f][l]=!0,r[h][l]=!0,u(e,t,o,r,n+1,i))return!0;e[n]=-1,t[a][l]=!1,o[f][l]=!1,r[h][l]=!1}return!1},a=(e,t,o,r,n,i,l)=>{if(l.finishes>1)return;if(n>=81){for(let t=0;t<e.length;++t)if(-1==e[t])return;return l.finishes++,void(l.answer=e)}let u,f=s.getRow(n),h=s.getCol(n),c=s.getZone(n);if(-1===e[n])for(let s in i)u=i[s],t[f][u]||o[h][u]||r[c][u]||(e[n]=u,t[f][u]=!0,o[h][u]=!0,r[c][u]=!0,a([...e],[...t],[...o],[...r],n+1,i,l),e[n]=-1,t[f][u]=!1,o[h][u]=!1,r[c][u]=!1);else a(e,t,o,r,n+1,i,l)};class f{constructor(e,t=!1){if((0,r.Z)(this,"puzzle",void 0),(0,r.Z)(this,"answer",void 0),(0,r.Z)(this,"timecount",void 0),this.puzzle=e,!e||81!=e.length)throw new Error("is not a 9 * 9 matrix sudoku puzzle");let o,f,h,c=[],g=n(9,(()=>n(10,(()=>!1)))),p=n(9,(()=>n(10,(()=>!1)))),w=n(9,(()=>n(10,(()=>!1))));this.puzzle.forEach(((e,t)=>{o=s.getRow(t),f=s.getCol(t),h=s.getZone(t),-1!==e&&(g[o][e]=!0,p[f][e]=!0,w[h][e]=!0),c.push(e)}));let d=!1;const m=(new Date).getTime();let v=l(i),b=-1;for(let e=0;e<81;++e)if(-1===c[e]){b=e;break}if(t){const e={count:0,finishes:0};if(a(c,g,p,w,b,v,e),e.finishes>1)throw new Error("puzzle is not one-solution sudoku");0==e.finishes?d=!1:(c=e.answer,d=!0)}else d=u(c,g,p,w,b,v);if(!d)throw new Error("not found the solution. is that you give me the puzzle with mistake?");this.answer=c,this.timecount=(new Date).getTime()-m}getPuzzle(){return this.puzzle}getSolution(){return this.answer}}const h=(e,t)=>{t>=10&&(console.log(`reduce the difficulty : ${e} -> ${e-2}`),t=1,e-=2);let o=0,r=l(n(9,(e=>e))),i=n(81,(e=>4==s.getZone(e%9,e/9)?r[o++]+1:-1)),u=((e,t)=>{const o=n(9,(e=>s.getZoneIndexs(e)[Math.random()])).sort(),r=[];e.map(((e,t)=>{o.length>0&&o[0]==t?o.splice(0,1):r.push(t)}));let i=l(r),u=0;for(let o in i){if(u>=t)break;let r=i[o];if(-1!=e[r]){let t=e[r];e[r]=-1;try{u++,new f(e,!0)}catch(o){e[r]=t,u--}}}return u==t?e:[]})(new f(i).getSolution(),e);return 0===u.length?h(e,t+1):u};onmessage=function({data:e}){if(isNaN(e))postMessage("Please write a number");else{const t=Date.now(),o=((e=36)=>{const t=Math.max(Math.min(Math.round(e),70),23);return h(81-t,1)})(e).map((e=>-1===e?0:e)),r=Date.now();console.log(`Complexity ${e}. Time ${(r-t)/1e3}.`),postMessage(o)}}}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return o[e].call(i.exports,i,i.exports,n),i.exports}n.m=o,n.x=()=>{var e=n.O(void 0,[321,977],(()=>n(9418)));return n.O(e)},e=[],n.O=(t,o,r,i)=>{if(!o){var s=1/0;for(f=0;f<e.length;f++){for(var[o,r,i]=e[f],l=!0,u=0;u<o.length;u++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](o[u])))?o.splice(u--,1):(l=!1,i<s&&(s=i));if(l){e.splice(f--,1);var a=r();void 0!==a&&(t=a)}}return t}i=i||0;for(var f=e.length;f>0&&e[f-1][2]>i;f--)e[f]=e[f-1];e[f]=[o,r,i]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[])),n.u=e=>({321:"core",977:"libs"}[e]+"."+{321:"93b5",977:"b9b8"}[e]+".js"),n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",(()=>{var e={418:1};n.f.i=(t,o)=>{e[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunksudoku=self.webpackChunksudoku||[],o=t.push.bind(t);t.push=t=>{var[r,i,s]=t;for(var l in i)n.o(i,l)&&(n.m[l]=i[l]);for(s&&s(n);r.length;)e[r.pop()]=1;o(t)}})(),t=n.x,n.x=()=>Promise.all([n.e(321),n.e(977)]).then(t),n.x()})();